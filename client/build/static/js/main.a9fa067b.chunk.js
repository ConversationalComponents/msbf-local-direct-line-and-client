(this["webpackJsonpchat-window-dl-local"]=this["webpackJsonpchat-window-dl-local"]||[]).push([[0],{15:function(e,t,n){e.exports=n(46)},20:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),i=n.n(c),o=(n(20),n(4)),s=n(3),u=n(7),l=window.Config,f=function(e,t,n){return{isUser:e,message:t,avatar:e?l.userAvatar||"https://img.icons8.com/color/search/0":l.botAvatar||"https://img.icons8.com/color/search/1",id:n,isLoading:!1}},d=n(1),h=n.n(d),m=n(2),p=function(){var e=Object(m.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/directline/conversations/".concat(t,"/activities"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"message",from:{id:g},text:n})});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=n(14),y=function(){var e=Object(m.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/directline/conversations/".concat(t,"/activities"));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r.activities||[]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(){return y(t).then(n)},Object(v.setInterval)(r,300);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/directline/conversations",{method:"POST"});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t(r.conversationId);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g="user",w=function(e){var t="center";return e.headerAlignment&&("left"===e.headerAlignment?t="flex-start":"right"===e.headerAlignment&&(t="flex-end")),t};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement((function(){var e=Object(r.useState)([f(!1,"Hello and welcome to the example!","entry id")]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(window.Config),l=Object(s.a)(i,1)[0],d=Object(r.useState)(l.headerImage?function(e){return a.a.createElement("div",{style:{height:"100%",flex:1,display:"flex",justifyContent:w(e)}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},a.a.createElement("img",{style:{height:"calc(100% - 12px)"},alt:"",src:e.headerImage})))}(l):function(e){return a.a.createElement("div",{style:{height:"100%",flex:1,display:"flex",justifyContent:w(e)}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},a.a.createElement("div",{style:e.headerTextStyle||{fontSize:"17px"}},e.headerText)))}(l)),h=Object(s.a)(d,1)[0],m=Object(r.useState)(""),v=Object(s.a)(m,2),y=v[0],b=v[1],O=Object(r.useState)([]),E=Object(s.a)(O,2),S=E[0],C=E[1];Object(r.useEffect)((function(){j(b)}),[]),Object(r.useEffect)((function(){var e=S.filter((function(e){return e.from.id!==g&&!n.some((function(t){return t.id===e.id}))}));e.length&&c([].concat(Object(o.a)(n),Object(o.a)(e.map((function(e){return f(!1,e.text,e.id)})))))}),[S]),Object(r.useEffect)((function(){y&&x(y,C)}),[y]);return a.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"}},a.a.createElement("div",{style:{height:"500px",width:"300px"}},a.a.createElement(u.ChatWindow,{headerAdditionalContent:h,content:n,onSubmit:function(e){c([].concat(Object(o.a)(n),[f(!0,e,n.length.toString())])),p(y,e)}}))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.a9fa067b.chunk.js.map